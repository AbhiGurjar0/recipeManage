<html>

<head>
    <meta charset="utf-8" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <style type="text/tailwindcss">
        :root {
        --primary-50: #fff7ed;
        --primary-100: #ffedd5;
        --primary-200: #fed7aa;
        --primary-300: #fdba74;
        --primary-400: #fb923c;
        --primary-500: #f97316;
        --primary-600: #ea580c;
        --primary-700: #c2410c;
        --primary-800: #9a3412;
        --primary-900: #7c2d12;
        --secondary-50: #f0fdf4;
        --secondary-100: #dcfce7;
        --secondary-200: #bbf7d0;
        --secondary-300: #86efac;
        --secondary-400: #4ade80;
        --secondary-500: #22c55e;
        --secondary-600: #16a34a;
        --secondary-700: #15803d;
        --secondary-800: #166534;
        --secondary-900: #14532d;
        --neutral-50: #fafaf9;
        --neutral-100: #f5f5f4;
        --neutral-200: #e7e5e4;
        --neutral-300: #d6d3d1;
        --neutral-400: #a8a29e;
        --neutral-500: #78716c;
        --neutral-600: #57534e;
        --neutral-700: #44403c;
        --neutral-800: #292524;
        --neutral-900: #1c1917;
      }
    </style>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <title>Recipe Management</title>
    <link href="data:image/x-icon;base64," rel="icon" type="image/x-icon" />
</head>

<body class="bg-primary-50" style='font-family: "Work Sans", sans-serif;'>
    <div class="relative flex size-full min-h-screen flex-col group/design-root overflow-x-hidden">
        <div class="layout-container flex h-full grow flex-col">
            <div class="w-full h-[10vh]">
                <%- include('partials/navbar') %>
            </div>

            <main class="flex-1 px-4 sm:px-6 lg:px-8 py-8">
                <div class="max-w-7xl mx-auto">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl md:text-4xl font-bold text-neutral-800 tracking-tight">Explore Delicious
                            Recipes</h2>
                        <p class="mt-2 text-lg text-neutral-600 max-w-2xl mx-auto">Discover thousands of
                            community-driven recipes for any occasion.</p>
                    </div>
                    <form class="max-w-2xl mx-auto" method="get" action="/user/search">
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-2xl text-neutral-500">search</span>
                            <input
                                class="form-input w-full rounded-full bg-white/90 text-lg py-4 pl-14 pr-32 text-[var(--text-primary)] placeholder:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] focus:ring-offset-2 focus:ring-offset-transparent"
                                placeholder="Search recipes..." type="search" name="q" />
                            <button
                                class="absolute right-2 top-1/2 -translate-y-1/2 flex items-center justify-center rounded-full h-12 px-6 bg-[var(--primary-color)] text-white text-base font-bold hover:bg-orange-600 transition-colors">
                                Search
                            </button>
                        </div>
                    </form>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
                        <% recipes.forEach((rec)=>{ %>
                            <a href="/recipe/details/<%=rec._id%>" class="group block">
                                <div class="flex flex-col bg-white rounded-2xl shadow-sm overflow-hidden 
                  hover:shadow-xl hover:-translate-y-1 transform transition-all duration-300">

                                    <!-- Image with overlay -->
                                    <div class="relative">
                                        <img src="data:image/jpeg;base64,<%= rec.images[0]?.toString('base64') %>"
                                            class="w-full h-44 sm:h-60 object-cover object-center transition-transform duration-300 group-hover:scale-100" />

                                        <!-- Gradient overlay -->
                                        <div
                                            class="absolute inset-0 bg-gradient-to-t from-black/40 via-black/10 to-transparent">
                                        </div>

                                        
                                    </div>

                                    <!-- Card content -->
                                    <div class="p-4 flex flex-col flex-1">
                                        <h3 class="text-neutral-900 text-lg font-bold leading-snug 
                     group-hover:text-primary-600 transition-colors line-clamp-1">
                                            <%= rec.title %>
                                        </h3>

                                        <p class="text-neutral-600 text-sm mt-2 flex-1 line-clamp-2">
                                            <%= rec.description %>
                                        </p>

                                        <!-- Price + meta -->
                                        <div class="flex items-center justify-between mt-4">
                                            <div class="flex items-center gap-1.5 text-sm font-medium text-primary-600">
                                                <span class="material-symbols-outlined text-base">sell</span>
                                                <span>â‚¹<%= rec.price %></span>
                                            </div>

                                            <!-- Example tag -->
                                            <span
                                                class="px-2 py-0.5 text-xs rounded-full bg-primary-50 text-primary-700 font-medium">
                                                Popular
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <% }) %>
                    </div>

                    
                </div>
            </main>
        </div>
    </div>

</body>

</html>